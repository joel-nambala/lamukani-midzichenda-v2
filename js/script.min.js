"use strict";const header=document.getElementById("header"),featureQuoteContainer=document.querySelector(".feature-quote"),btnUp=document.querySelector(".btn-up"),copyYear=document.querySelector(".copy-year"),nav=document.querySelector(".nav"),scrollLinks=document.querySelectorAll(".scroll-link"),linksContainer=document.querySelector(".links-container"),navBtn=document.querySelector(".nav-btn"),navList=document.querySelector(".nav-list"),donationAmount=document.querySelectorAll(".donator-amount"),btnModal=document.querySelectorAll(".btn-modal"),modalWindow=document.querySelector(".modal"),donateWindow=document.querySelector(".donate"),modalClose=document.querySelector(".modal-close-window"),campaignContainer=document.getElementById("campaign"),slides=document.querySelectorAll(".news-slide"),dotsContainer=document.querySelector(".dots"),donations=[3500,7400,1200,5350],campaigns=["Against unemployment","Proper elderly care","Special education opportunities","Child protection program","Sponsor an orphan child"],numberFormatter=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},changeCopyrightYear=function(){var e=(new Date).getFullYear();copyYear.textContent=e},randomQuote=(changeCopyrightYear(),async function(){try{var e=await fetch("https://type.fit/api/quotes");if(!e.ok)throw new Error("Error generating quote");var t=(await e.json()).slice(0,500),n=t[Math.floor(Math.random()*t.length+1)],o=`
      <h4 class="quote-title">${null===n.author?"Joel Nambala":n.author}</h4>
      <p class="quote-text">${n.text}</p>
    `;featureQuoteContainer.insertAdjacentHTML("afterbegin",o)}catch(e){featureQuoteContainer.textContent="Please check your internet connection",featureQuoteContainer.style.color="#dc2626",featureQuoteContainer.style.fontSize="16px"}}),responseNavigation=(randomQuote(),scrollLinks.forEach(function(e,t,n){e.addEventListener("click",function(t){t.preventDefault();t=t.currentTarget.getAttribute("href"),t=document.querySelector(t);if(null!==t){var n=nav.getBoundingClientRect().height,o=linksContainer.getBoundingClientRect().height,a=nav.classList.contains("fixed");let e=t.offsetTop-n;a||(e-=n),82<n&&(e+=o),window.scrollTo({top:e,left:0,behavior:"smooth"}),linksContainer.style.height=0}})}),function(){var e=navList.getBoundingClientRect().height,t=linksContainer.getBoundingClientRect().height;linksContainer.style.height=0===t?e+"px":0}),showBacktopBtn=(navBtn.addEventListener("click",responseNavigation),function(){var e=header.getBoundingClientRect().height,t=window.scrollY;btnUp.style.opacity=e-100<t?1:0}),fixedNavigation=function(){var e=window.scrollY;nav.getBoundingClientRect().height<e?nav.classList.add("fixed"):nav.classList.remove("fixed")},modalCloseOpen=(window.addEventListener("scroll",function(){showBacktopBtn(),fixedNavigation()}),donations.forEach(function(e,t){donationAmount[t].textContent=numberFormatter(e)}),function(){function e(){modalWindow.classList.add("hide-modal"),donateWindow.classList.add("hide-modal")}btnModal.forEach(function(e,t,n){e.addEventListener("click",function(e){e.preventDefault(),modalWindow.classList.remove("hide-modal"),donateWindow.classList.remove("hide-modal")})}),modalWindow.addEventListener("click",e),modalClose.addEventListener("click",e)}),populateCampaigns=(modalCloseOpen(),function(){campaigns.forEach(function(e,t,n){e=`<option value="${e}">${e}</option>`;campaignContainer.insertAdjacentHTML("beforeend",e)})}),sliderComponent=(populateCampaigns(),function(){let t=0;function n(e){document.querySelectorAll(".dots-dot").forEach(function(e,t,n){e.classList.remove("dots-dot--active")}),document.querySelector(`.dots-dot[data-slide="${e}"]`).classList.add("dots-dot--active")}function o(o){slides.forEach(function(e,t,n){e.style.transform=`translateX(${100*(t-o)}%)`})}function a(){t===i-1?t=0:t++,o(t),n(t)}const i=slides.length;slides.forEach(function(e,t,n){t=`<button class="dots-dot" data-slide="${t}"></button>`;dotsContainer.insertAdjacentHTML("beforeend",t)}),n(0),o(0),document.addEventListener("keydown",function(e){"ArrowRight"===e.key&&a(),"ArrowLeft"===e.key&&(0===t?t=i-1:t--,o(t),n(t))}),dotsContainer.addEventListener("click",function(e){e.target.classList.contains("dots-dot")&&(e=e.target.dataset["slide"],o(e),n(e))}),setInterval(a,1e4)});sliderComponent();